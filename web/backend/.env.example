# ========================================
# Eucharist Platform - Backend Configuration
# ========================================
# Copy this file to .env and update with your actual values
# NEVER commit .env file to version control
# ========================================

# ========================================
# Server Configuration
# ========================================
# Environment: development, staging, production
NODE_ENV=development

# Server port (default: 3000)
PORT=3000

# API version prefix (appears in URLs: /api/v1/...)
API_VERSION=v1

# ========================================
# Database Configuration - PostgreSQL
# ========================================
# PostgreSQL stores relational data:
# - User accounts and authentication
# - Prayer intentions
# - User progress tracking
# - Relationships between entities
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=eucharist_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=

# Optional: PostgreSQL connection pool settings (uncomment if needed)
# POSTGRES_POOL_MIN=2
# POSTGRES_POOL_MAX=10

# ========================================
# Database Configuration - MongoDB
# ========================================
# MongoDB stores flexible content:
# - Educational articles and reflections
# - Gospel readings
# - Eucharistic miracles
# - Rich text content with metadata
MONGODB_URI=mongodb://localhost:27017/eucharist

# Optional: MongoDB connection options (uncomment if needed)
# MONGODB_MAX_POOL_SIZE=10
# MONGODB_MIN_POOL_SIZE=2

# ========================================
# Database Configuration - Redis
# ========================================
# Redis handles caching and session storage:
# - API response caching
# - Session data
# - Rate limiting data
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Optional: Redis database number (0-15)
# REDIS_DB=0

# ========================================
# JWT Authentication Configuration
# ========================================
# ⚠️ SECURITY WARNING: Change JWT_SECRET in production!
# Generate a strong secret: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-secret-key-change-in-production

# Token expiration times (valid formats: 60, "2 days", "10h", "7d")
# Access token: Short-lived for API requests (recommended: 15m-1h)
JWT_ACCESS_TOKEN_EXPIRY=15m

# Refresh token: Long-lived for token renewal (recommended: 7d-30d)
JWT_REFRESH_TOKEN_EXPIRY=7d

# ========================================
# CORS Configuration
# ========================================
# Allowed origins for cross-origin requests
# Single origin: http://localhost:3001
# Multiple origins (comma-separated): http://localhost:3001,http://localhost:3002
# Production example: https://app.eucharist-platform.org,https://www.eucharist-platform.org
# 
# Security Notes:
# - Never use '*' (wildcard) in production
# - Include protocol (http:// or https://)
# - No trailing slashes on origins
# - Mobile apps and API clients don't send Origin header (handled automatically)
CORS_ORIGIN=http://localhost:3001

# ========================================
# Logging Configuration
# ========================================
# Log levels: error, warn, info, debug
# Production: info or warn
# Development: debug
LOG_LEVEL=info

# ========================================
# Rate Limiting (Future Implementation)
# ========================================
# Maximum requests per window per IP address
# RATE_LIMIT_WINDOW_MS=900000
# RATE_LIMIT_MAX_REQUESTS=100

# ========================================
# Email Service (Future Implementation)
# ========================================
# Email service for notifications and verification
# Options: sendgrid, aws-ses, smtp
# EMAIL_SERVICE=smtp
# EMAIL_HOST=smtp.example.com
# EMAIL_PORT=587
# EMAIL_SECURE=false
# EMAIL_USER=
# EMAIL_PASSWORD=
# EMAIL_FROM_ADDRESS=noreply@eucharist-platform.org
# EMAIL_FROM_NAME=Eucharist Platform

# ========================================
# Error Tracking - Sentry (Future Implementation)
# ========================================
# Sentry DSN for error monitoring and tracking
# Get your DSN from: https://sentry.io/settings/projects/
# SENTRY_DSN=
# SENTRY_ENVIRONMENT=development
# SENTRY_TRACES_SAMPLE_RATE=0.1

# ========================================
# File Upload & Storage (Future Implementation)
# ========================================
# File upload configuration for user avatars, content images, etc.
# Storage options: local, s3, gcs
# STORAGE_TYPE=local
# STORAGE_LOCAL_PATH=./uploads
# Max file size in bytes (default: 5MB)
# MAX_FILE_SIZE=5242880

# AWS S3 Configuration (if using S3)
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_S3_BUCKET=

# ========================================
# External APIs (Future Implementation)
# ========================================
# Third-party API keys and configuration

# Catholic API for official documents and resources
# CATHOLIC_API_KEY=
# CATHOLIC_API_BASE_URL=https://api.catholic-resources.org

# Firebase (Mobile authentication only - not for backend database)
# FIREBASE_PROJECT_ID=
# FIREBASE_CLIENT_EMAIL=
# FIREBASE_PRIVATE_KEY=

# ========================================
# Security & Performance
# ========================================
# Session secret for express-session (if using sessions)
# SESSION_SECRET=your-session-secret-change-in-production

# HTTPS/SSL enforcement (set to true in production)
# FORCE_HTTPS=false

# Request body size limit
# BODY_LIMIT=10mb

# ========================================
# Feature Flags (Future Implementation)
# ========================================
# Enable/disable features without code changes
# FEATURE_COMMUNITY_FORUM=false
# FEATURE_AUDIO_REFLECTIONS=false
# FEATURE_VIDEO_CONTENT=false
# FEATURE_LIVE_STREAMING=false

# ========================================
# Development Tools
# ========================================
# Enable detailed error messages (development only)
# DETAILED_ERRORS=true

# Enable API request logging
# LOG_REQUESTS=true

# Swagger/OpenAPI documentation endpoint
# SWAGGER_ENABLED=true
